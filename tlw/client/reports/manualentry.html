<template name="reportForm">
    {{#with reportSelected}}
    <div class="container">
        <div class="jumbotron">
            <h1>Monthly Report<br>
            <small>{{displayMonth month}} {{year}}</small>
            </h1>
        </div><!-- /.jumbotron -->
    </div><!-- /.container -->
    <div class="container">
        <h4>Information entered below will be included in the report</h4>
    </div>
    <div class="container">
        {{# autoForm collection="MonthlyReports" doc=this name="reportUpdateForm" id="reportUpdateForm" type="update"}}
        <fieldset>
            <div class="row">
                <div class="col-md-4">
                    <h3>Employees</h3>
                    {{> afQuickField name='employeeCount'}}
                    {{> afQuickField name='employeeHours'}}
                </div>
            </div>

            <div class="row">
                <div class="col-md-4">
                    <h3>CSA</h3>
                    {{> afQuickField name='csaNew'}}
                </div>
            </div>
        </fieldset>
            <div class="row">
                <div class="col-md-4">
                    <h3>Products</h3>
                    <!-- {{> afArrayField name='productInfo' template='reportproducttable' label=false fields=['itemname', 'wholesaleUnits', 'marketUnits', 'marketSales']}} -->
                    <form name="productInfoForm">
                    <fieldset>
                    <table class="table table-striped">
                        <thead>
                            <th>Item</th>
                            <th>Harvested Units</th>
                            <th>Wholesale Units</th>
                            <th>Market Units</th>
                            <th>Market Sales</th>
                        </thead>
                        <tbody>
                        {{#each productsWithIndex}}
                            <tr>
                                <td>{{itemname}}</td>
                                <td>{{harvestedUnits}}</td>
                                <td><input id={{wholesaleUnitsName}} name={{wholesaleUnitsName}} type="Number" min=0 value='{{wholesaleUnits}}'></td>
                                <td><input id={{marketUnitsName}} name={{marketUnitsName}} type="Number" min=0 value='{{marketUnits}}'></td>
                                <td><input id={{marketSalesName}} name={{marketSalesName}} type="Number" min=0 value='{{marketSales}}'></td>
                                <!-- <td>{{> afFieldInput name=wholesaleUnitsName autoform=.. value=wholesaleUnits}}</td>
                                <td>{{> afFieldInput name=marketUnitsName autoform=.. value=marketUnits}}</td>
                                <td>{{> afFieldInput name=marketSalesName autoform=.. value=marketSales}}</td> -->
                            </tr>
                        {{/each}}
                        </tbody>
                    </table>
                    </fieldset>
                    </form>
                </div>
            </div>
        <br>
        <a href="{{pathFor 'admin'}}"><button type="button" class="btn btn-default btn-lg">Cancel</button></a>
        <button type="submit" class="btn btn-primary btn-lg">Submit</button>
        {{/autoForm}}
        <br>
    </div>
    {{/with}}
</template>

<template name="reportFormConfirmation">
    <div class="container text-center">
        <h1>Thank You!<br><small>our information has been recorded.</small></h1>
    </div>
</template>

<template name="reportFormConfirmationModal">
    <div id="reportFormConfirmation" class="modal fade" tabindex="-1" data-width="760" style="display:none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <h3>Manual input done!</h3>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-success" data-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>
</template>
